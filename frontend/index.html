<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lamarka Pe√ßas - Gerenciamento de Estoque</title>
    <link rel="stylesheet" href="estilo.css" />
  </head>
  <body>
    <header>
      <h1>Lamarka Pe√ßas</h1>
    </header>

    <main>
      <section class="card" id="dashboard">
        <div class="stat-card">
          <h3>Total de Pe√ßas</h3>
          <p id="total-pecas">0</p>
        </div>
        <div class="stat-card">
          <h3>Itens em Estoque</h3>
          <p id="total-itens">0</p>
        </div>
        <div class="stat-card">
          <h3>Valor Total do Estoque</h3>
          <p id="valor-total-estoque">R$ 0,00</p>
        </div>
        <div class="stat-card">
          <h3>Lucro Total (Vendas)</h3>
          <p id="lucro-total">R$ 0,00</p>
        </div>
      </section>
      <section class="card" id="cadastro-form">
        <h2>Cadastrar Nova Pe√ßa</h2>
        <form id="form-peca">
          <input
            type="text"
            id="nome"
            placeholder="Nome da Pe√ßa (Ex: Farol Direito)"
            required
          />
          <select id="marca" required>
            <option value="">-- Selecione a Marca --</option>
          </select>
          <select id="modelo" required>
            <option value="">-- Selecione o Modelo --</option>
          </select>
          <input
            type="text"
            id="veiculo-outro"
            placeholder="Ou digite outro ve√≠culo"
            style="display: none"
          />
          <input type="text" id="ano" placeholder="Ano (Ex: 2017-2020)" />
          <input
            type="number"
            id="quantidade"
            placeholder="Quantidade"
            min="0"
            required
          />
          <input
            type="text"
            id="localizacao"
            placeholder="Localiza√ß√£o (Ex: Setor A, Prat. 12)"
          />
          <input
            type="number"
            step="0.01"
            id="precoCompra"
            min="0"
            placeholder="Pre√ßo de Compra (R$)"
            required
          />
          <input
            type="number"
            step="0.01"
            id="precoVenda"
            min="0"
            placeholder="Pre√ßo de Venda (R$)"
          />
          <input
            type="number"
            id="estoqueMinimo"
            placeholder="Estoque M√≠nimo (Alerta)"
            min="0"
          />
          <textarea
            id="descricao"
            placeholder="Descri√ß√£o (opcional)"
          ></textarea>
          <button type="submit" class="btn-amarelo">Cadastrar Pe√ßa</button>
        </form>
      </section>

      <section class="card">
        <h2>Estoque Atual</h2>
        <div id="filtros">
          <input
            type="text"
            id="filtro-nome"
            placeholder="Filtrar por nome..."
          />
          <select id="filtro-marca">
            <option value="">-- Todas as Marcas --</option>
          </select>
          <select id="filtro-modelo">
            <option value="">-- Todos os Modelos --</option>
          </select>

          <input type="text" id="filtro-ano" placeholder="Filtrar por ano..." />
          <select
            id="filtro-localizacao"
            placeholder="Filtrar por localiza√ß√£o..."
          >
            <option value="">-- Todas as Localiza√ß√µes --</option>
          </select>
          <input
            type="number"
            id="filtro-quantidade-min"
            placeholder="Qtd. M√≠nima"
            min="0"
          />
          <input
            type="number"
            id="filtro-quantidade-max"
            placeholder="Qtd. M√°xima"
            min="0"
          />
          <input
            type="number"
            step="0.01"
            id="filtro-preco-venda-min"
            placeholder="Pre√ßo Venda M√≠n."
            min="0"
          />
          <input
            type="number"
            step="0.01"
            id="filtro-preco-venda-max"
            placeholder="Pre√ßo Venda M√°x."
            min="0"
          />
          <button onclick="buscarPecas()" class="btn-azul">Buscar</button>
          <button onclick="limparFiltros()" class="btn-secundaria">
            Limpar Filtros
          </button>
        </div>
        <table id="tabela-pecas">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Ve√≠culo</th>
              <th>Ano</th>
              <th>Qtd.</th>
              <th>Localiza√ß√£o</th>
              <th>Pre√ßo Venda</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <section class="card" id="clientes-fiado">
        <h2>Clientes e Vendas Fiado</h2>
        <div class="clientes-container">
          <!-- Coluna da esquerda: Cadastro e sele√ß√£o de cliente -->
          <div class="clientes-sidebar">
            <h3>Cadastrar Novo Cliente</h3>
            <form id="form-cliente">
              <input
                type="text"
                id="cliente-nome"
                placeholder="Nome do Cliente"
                required
              />
              <input
                type="text"
                id="cliente-telefone"
                placeholder="Telefone (opcional)"
              />
              <button type="submit" class="btn-amarelo">Salvar Cliente</button>
            </form>
            <hr />
            <h3>Consultar Notinha</h3>
            <select id="select-cliente-fiado">
              <option value="">-- Selecione um Cliente --</option>
            </select>
          </div>

          <!-- Coluna da direita: Detalhes da notinha -->
          <div class="fiado-detalhes">
            <h3 id="nome-cliente-selecionado">
              Selecione um cliente para ver as vendas em aberto
            </h3>
            <table id="tabela-fiado">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Pe√ßa</th>
                  <th>Qtd.</th>
                  <th>Valor</th>
                  <th><input type="checkbox" id="selecionar-tudo-fiado" /></th>
                </tr>
              </thead>
              <tbody>
                <!-- Vendas em aberto do cliente aqui -->
              </tbody>
            </table>
            <div class="fiado-rodape">
              <strong>Total: <span id="total-fiado">R$ 0,00</span></strong>
              <button id="btn-quitar-selecionados" class="btn-sucesso" disabled>
                Quitar Selecionados
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="card" id="relatorios">
        <h2>Relat√≥rios R√°pidos</h2>
        <div class="relatorios-container">
          <div id="alerta-estoque">
            <h3>‚ö†Ô∏è Alertas de Estoque Baixo</h3>
            <ul id="lista-alertas-estoque">
              <!-- Alertas ser√£o inseridos aqui via JS -->
            </ul>
          </div>
          <div id="mais-vendidas">
            <h3>üèÜ Pe√ßas Mais Vendidas (Top 10)</h3>
            <table id="tabela-mais-vendidas">
              <thead>
                <tr>
                  <th>Pe√ßa</th>
                  <th>Qtd. Vendida</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <div id="mais-lucrativas">
            <h3>üí∞ Pe√ßas Mais Lucrativas (Top 10)</h3>
            <table id="tabela-mais-lucrativas">
              <thead>
                <tr>
                  <th>Pe√ßa</th>
                  <th>Lucro Gerado</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Hist√≥rico de Vendas</h2>
        <table id="tabela-vendas">
          <thead>
            <tr>
              <th>Data</th>
              <th>Pe√ßa</th>
              <th>Qtd. Vendida</th>
              <th>Valor Total</th>
              <th>Lucro</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <!-- Modal Gen√©rico -->
    <div id="modal-generico" class="modal-overlay">
      <div class="modal">
        <div class="modal-header">
          <h2 id="modal-titulo">T√≠tulo do Modal</h2>
          <button class="close-button" onclick="fecharModal()">&times;</button>
        </div>
        <div id="modal-corpo" class="modal-body">
          <!-- Conte√∫do do modal ser√° injetado aqui -->
        </div>
        <div id="modal-rodape" class="modal-footer">
          <!-- Bot√µes do modal ser√£o injetados aqui -->
        </div>
      </div>
    </div>

    <!-- Datalist para sugest√µes de ve√≠culos -->
    <datalist id="veiculos-sugeridos"></datalist>

    <script src="app.js"></script>
  </body>
</html>
